<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
global.gamescore = 0;
estado = "final";

//Variables de enemigo black
maxblack = 100;
global.energiablack = maxblack;
global.danoblack = true;
global.vidasblack = 3;

//Variables de player
posInicialX = 96;
posInicialY = 192;
global.energiaplayer = 200;
global.vidasplayer = 3;
global.danoplayer = true;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Score
//HUD score
    if file_exists("score.ini")
    {
       ini_open("score.ini");
       global.hiscore = ini_read_real("score", "hiscore", 0);
       ini_close();
    }
    else{ global.hiscore = 0;}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///activa alarma 0
alarm[0] = 240;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>224</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_another_room</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>11</kind>
            <room>room0</room>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Alarma para cambios de da√±o player serpiente
global.danoplayer = true;
obj_player.image_alpha = 1;//elimina transparencia de cabeza de serpiente
obj_body_player.image_alpha = 1;//elimina transparencia de cuerpo de serpiente
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Pasamos a la siguiente room y cambiamos el estado
room_goto_next();
estado = "batalla";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Control energia y vidas de player 
if (global.vidasplayer &gt; 0)
{
  if ( global.energiaplayer &lt;= 0)
     {       
       global.vidasplayer --;//disminuye vidas
       global.danoplayer = false;
       global.energiaplayer = 200;//restaura energia despues de perder una vida
       alarm[1] = 240;//alarma para volver al estado original
       
       //Random de color alpha para la cabeza cuando energiaplayer llega a cero  
       if (global.danoplayer = false)
          { 
          //PARA LA CABEZA 
            obj_player.image_alpha = random_range( 0.5, 0.9);
             
            if (obj_player.image_alpha &gt;= 0.5)
               { obj_player.image_alpha = random_range( 0.3, 0.5);}
  
            if (obj_player.image_alpha &lt;= 0.5)
               {obj_player.image_alpha = random_range(0.5, 0.9);}
               
           //PARA EL CUERPO    
           obj_body_player.image_alpha = random_range( 0.5, 0.9);
             
           if (obj_body_player.image_alpha &gt;= 0.5)
              {obj_body_player.image_alpha = random_range( 0.3, 0.5);}
  
           if (obj_body_player.image_alpha &lt;= 0.5)
              {obj_body_player.image_alpha = random_range(0.5, 0.9);}             
         }        
    }       
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Control energia black
if (global.vidasblack &gt; 0)
{
  if ( global.energiablack &lt;= 0)
     {       
       global.vidasblack --;//disminuye vidas
       //global.danored = false;
       global.energiablack = maxblack;//restaura energia
     }     
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Estado fin
if (estado = "batalla")
{
    if !instance_exists(obj_black)
    {
     obj_player.image_alpha -=0.001;
     obj_body_player.image_alpha =obj_player.image_alpha;
     
        if ( obj_player.image_alpha =0)
        {
        with(obj_player)
        {instance_destroy();}
        alarm[2] = 600;
        estado ="fin";
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///dibuja datos de juego
draw_set_font( font_jugando);
draw_set_color (c_yellow);
//draw_set_halign( fa_center);
draw_set_valign( fa_middle);
display_set_gui_size( view_wview, view_hview);


switch(estado)
{
  case "final":
  ///Dibujamos texto final
    draw_set_font( font_textNivel);
    draw_set_halign( fa_center);
    draw_set_color( c_orange);
    draw_text(view_wview[0]/2, view_hview[0]/2 - 350, "Final");
    draw_text(view_wview[0]/2, view_hview[0]/2 - 70, "Gracias por jugar#podrias ser el#Rey Serpiente
                                    #pero aun falta derrotar a la#serpiente negra##Podras hacerlo!!");
  break;

  case "batalla": //estado juego en ejecucion 
  
    //draw_text(view_wview[0]/2, view_hview[0]/2 - 380, "Total Serpientes ="  + string(global.cantSerpientes));
    draw_text(view_wview[0]/2, view_hview[0]/2 - 400, "Hi-score :"  + string(global.hiscore));
  
  /*Dibujamos los datos de lo jugadores en las cuatro esquinas*/
    //Datos de player
    draw_text(view_wview[0]/2 - 400, view_hview[0]/2 - 400, "Score :"  + string(global.gamescore));
    draw_text(view_wview[0]/2 - 400, view_hview[0]/2 - 380, "Vidas Player :"  + string(global.vidasplayer));
    
    //Datos black snake
    draw_text(view_wview[0]/2 + 400, view_hview[0]/2 - 400, string_upper("Snake black"));
        
    if ( instance_exists( obj_black))
    {
    draw_text( view_wview[0]/2 + 400, view_hview[0]/2 - 380, "Energia = " + string(global.energiablack));
    draw_text( view_wview[0]/2 + 400, view_hview[0]/2 - 360, "Vidas x "  + string(global.vidasblack));
    draw_text( view_wview[0]/2 + 400, view_hview[0]/2 - 340, "Arma = "  + string(obj_black.txt));
    draw_text( view_wview[0]/2 + 400, view_hview[0]/2 - 320, "Velocidad = " + string(obj_black.speed));    
    }
    else{
    draw_text( view_wview[0]/2 + 400, view_hview[0]/2 - 380, string_upper("Exterminado"));
    draw_set_font( font_textNivel);
    draw_text(view_wview[0]/2, view_hview[0]/2 - 70, "Ganaste");
    }
  break;
  
  case "fin":
  draw_set_font( font_textNivel);
  draw_set_halign( fa_center);
  draw_set_color( c_white);
  draw_text(view_wview[0]/2, view_hview[0]/2 - 250, "Felicitaciones#Ahora si eres el Rey Serpiente");
  draw_sprite_stretched( spr_ojo_serpiente, 0, view_wview[0]/2 - 100, view_hview[0]/2 + 10, 200, 200);
  draw_text(view_wview[0]/2, view_hview[0]/2 + 50, "Gracias por jugar##Desarrollado por Wilfredo Chipana");
  
  break;

}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Desarrollador
if( keyboard_check( vk_f10))
{
    draw_set_halign( fa_center);
    draw_set_color (c_white);
    draw_set_font( font_desarrollador);
    
    draw_text(view_wview[0] - 350, view_hview[0] - 210,  "Desarrollador");
    draw_text(view_wview[0] - 350, view_hview[0] - 200,  "=============");
    draw_text(view_wview[0] - 350, view_hview[0] - 180, "Estado = " + string( estado));
    if ( instance_exists( obj_black))
    {
    draw_text(view_wview[0] - 350, view_hview[0] - 170, "Velocidad black =" + string(obj_black.speed));
    draw_text(view_wview[0] - 350, view_hview[0] - 160, "Alarma 1 black =" + string(obj_black.alarm[1]));
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
